library(data.table)
library(plyr)
# Raw Data
data.MSD <- read.csv(file="ilc_mdsd03.csv", header=TRUE, sep=",")
data.MSD
str(data.MSD)
data.LE <- read.csv(file="demo_mlexpecedu_1_Data.csv", header=TRUE, sep=",")
data.LE
str(data.LE)
attach(data.MSD)
attach(data.LE)
DT.MSD <- data.table(data.MSD)
DT.LE <- data.table(data.LE)
tables()
data.MSD.primary <- DT.MSD[DT.MSD$TIME == "2016" & DT.MSD$ISCED11 == "Less than primary, primary and lower secondary education (levels 0-2)", ]
data.MSD.primary[ , c("AGE","UNIT", "TIME", "SEX", "Flag.and.Footnotes", "ISCED11") := NULL]
data.MSD.primary <- data.MSD.primary[order(data.MSD.primary[,"GEO"]), ]
df.MSD.primary <- as.data.frame(data.MSD.primary)
df.MSD.primary
df.MSD.primary <- df.MSD.primary[-grep(":",df.MSD.primary$Value),]
df.MSD.primary
data.MSD.secondary <- DT.MSD[DT.MSD$TIME == "2016" & DT.MSD$ISCED11 == "Upper secondary and post-secondary non-tertiary education (levels 3 and 4)", ]
data.MSD.secondary[ , c("AGE","UNIT", "TIME", "SEX", "Flag.and.Footnotes", "ISCED11") := NULL]
df.MSD.secondary <- as.data.frame(data.MSD.secondary)
df.MSD.secondary <- df.MSD.secondary[-grep(":",df.MSD.secondary$Value),]
df.MSD.secondary
data.MSD.tertiary <- DT.MSD[DT.MSD$TIME == "2016" & DT.MSD$ISCED11 == "Tertiary education (levels 5-8)", ]
data.MSD.tertiary[ , c("AGE","UNIT", "TIME", "SEX", "Flag.and.Footnotes", "ISCED11") := NULL]
df.MSD.tertiary <- as.data.frame(data.MSD.tertiary)
df.MSD.tertiary <- df.MSD.tertiary[-grep(":",df.MSD.tertiary$Value),]
df.MSD.tertiary
data.LE.primary <- DT.LE[DT.LE$TIME == "2015" & DT.LE$ISCED11 == "Less than primary, primary and lower secondary education (levels 0-2)", ]
data.LE.primary[ , c("AGE","UNIT", "TIME", "SEX", "Flag.and.Footnotes", "ISCED11") := NULL]
data.LE.primary
data.LE.primary <- data.LE.primary[-grep(":",data.LE.primary$Value),]
data.LE.primary
data.LE.secondary <- DT.LE[DT.LE$TIME == "2015" & DT.LE$ISCED11 == "Upper secondary and post-secondary non-tertiary education (levels 3 and 4)", ]
data.LE.secondary[ , c("AGE","UNIT", "TIME", "SEX", "Flag.and.Footnotes", "ISCED11") := NULL]
data.LE.secondary
data.LE.secondary <- data.LE.secondary[-grep(":",data.LE.secondary$Value),]
data.LE.secondary
data.LE.tertiary <- DT.LE[DT.LE$TIME == "2015" & DT.LE$ISCED11 == "Tertiary education (levels 5-8)", ]
data.LE.tertiary[ , c("AGE","UNIT", "TIME", "SEX", "Flag.and.Footnotes", "ISCED11") := NULL]
data.LE.tertiary
data.LE.tertiary <- data.LE.tertiary[-grep(":",data.LE.tertiary$Value),]
data.LE.tertiary
df <- join_all(list(df.MSD.primary ,
df.MSD.secondary,
df.MSD.tertiary,
data.LE.primary,
data.LE.secondary,
data.LE.tertiary),
by='GEO', type='left')
class(df)
df
df <- df[complete.cases(df), ]
df
df
df <- df[complete.cases(df), ]
df
df <- data.frame(df$GEO = "Country")
df <- data.frame(df$GEO, as.numeric(df$Value))
df
df <- df[complete.cases(df), ]
df
df <- join_all(list(df.MSD.primary ,
df.MSD.secondary,
df.MSD.tertiary,
data.LE.primary,
data.LE.secondary,
data.LE.tertiary),
by='GEO', type='left')
class(df)
df
df <- df[complete.cases(df), ]
df
uniCount = as.data.frame(table(df),stringsAsFactors =F)
df
uniCount = as.data.frame(df,stringsAsFactors =F)
uniCount
df <- join_all(list(df.MSD.primary ,
df.MSD.secondary,
df.MSD.tertiary,
data.LE.primary,
data.LE.secondary,
data.LE.tertiary),
by='GEO', type='left')
class(df)
df
df <- df[complete.cases(df), ]
df
df1 = as.data.frame(df,stringsAsFactors =F)
df1
colnames(df1) <- c("Country", "MSD_1", "MSD_2", "MSD_3", "LE_1", "LE_2", "LE_3")
df1
plot(df1$MSD_1, df1$LE_1)
hist(df1$MSD_1)
df <- join_all(list(df.MSD.primary ,
df.MSD.secondary,
df.MSD.tertiary,
data.LE.primary,
data.LE.secondary,
data.LE.tertiary),
by='GEO', type='left', stringsAsFactors =F)
df <- join_all(list(df.MSD.primary ,
df.MSD.secondary,
df.MSD.tertiary,
data.LE.primary,
data.LE.secondary,
data.LE.tertiary),
by='GEO', type='left')
class(df)
df
df <- df[complete.cases(df), ]
df
df1 = as.data.frame(df,stringsAsFactors =T)
df1
colnames(df1) <- c("Country", "MSD_1", "MSD_2", "MSD_3", "LE_1", "LE_2", "LE_3")
df1
hist(df1$MSD_1)
str(df)
source('~/Desktop/MatSocDepEU/Material-Social-Deprivation-EU/MatSocDepEU.R', echo=TRUE)
source('~/Desktop/MatSocDepEU/Material-Social-Deprivation-EU/MatSocDepEU.R', echo=TRUE)
plot(df$MSD_1, df$LE_1)
source('~/Desktop/MatSocDepEU/Material-Social-Deprivation-EU/MatSocDepEU.R', echo=TRUE)
source('~/Desktop/MatSocDepEU/Material-Social-Deprivation-EU/MatSocDepEU.R', echo=TRUE)
hist(df$MSD_3, df$LE_3)
str(df)
hist(df$MSD_3, df$LE_3)
points(as.numeric(df$MSD_2), as.numeric(df$LE_2, col="red"))
hist(as.numeric(df$MSD_2), as.numeric(df$LE_2, col="red"))
source('~/Desktop/MatSocDepEU/Material-Social-Deprivation-EU/MatSocDepEU.R', echo=TRUE)
source('~/Desktop/MatSocDepEU/Material-Social-Deprivation-EU/MatSocDepEU.R', echo=TRUE)
plot(df$MSD_1)
hist(df$MSD_1)
df
str(df)
indx <- sapply(df, is.factor)
df[indx] <- lapply(df[indx], function(x) as.numeric(as.character(x)))
hist(df$MSD_1)
indx <- sapply(df, is.factor)
df[indx] <- lapply(df[indx], function(x) as.numeric(x))
hist(df$MSD_1)
lapply(df, function(x) as.numeric(x))
hist(df$MSD_1)
df <- transform(df, class=as.numeric(as.character(breast)))
df <- transform(df, class=as.numeric(as.character(df)))
df
df <- transform(df[2, ], class=as.numeric(as.character(df)))
df <- transform(df[ ,2 ], class=as.numeric(as.character(df)))
df$MD_1 <- as.numeric(as.character(df$MD_1))
df$MD_1 <- as.numeric(as.character(df$MD_1))df
as.numeric(df$MD_1)
as.numeric(as.character(df$MD_1))
str(df)
df <- join_all(list(df.MSD.primary ,
df.MSD.secondary,
df.MSD.tertiary,
data.LE.primary,
data.LE.secondary,
data.LE.tertiary),
by='GEO', type='left')
class(df)
df
df <- df[complete.cases(df), ]
colnames(df) <- c("Country", "MSD_1", "MSD_2", "MSD_3", "LE_1", "LE_2", "LE_3")
df
scatter.smooth(df)
df$MSD_1 <- as.numeric(as.character(df$MSD_1))
hist(df$MSD_1)
